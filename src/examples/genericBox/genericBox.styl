/*******************************************************************************
 * Default popup
 ******************************************************************************/

.popup

  /* hidden by default */
  display none

  /* style */
  background-color #fff
  padding 30px

  h1
    margin 5px 0 10px 0

  h1, h2, h3
    text-align center

  ul
    padding 0 40px

/*******************************************************************************
 * Close button (red dot)
 ******************************************************************************/

.gb .gbClose

  /* size and shape */
  size 20px 20px
  border-radius 20px

  /* position top right */
  absolute top 5px right 5px

  /* style */
  background-color #e84e40
  cursor pointer

  &:hover
    background-color darken(@background-color, 15)

/*******************************************************************************
 * Static Overlay (animation friendly)
 ******************************************************************************/

.overlay-static .gb .gbOverlay

  /* transparent */
  background rgba(0,0,0,.6)

  /* full screen */
  size 100% 100%

  /* hidden */
  fixed top -999px left -999px

.overlay-static .gb.visible .gbOverlay

  /* visible */
  fixed top left

/*******************************************************************************
 * example: Fixed position
 ******************************************************************************/

.example1 .gb

  /* hidden */
  display none

.example1 .gb.visible

  /* visible */
  display block

.example1 .gb .gbOverlay

  /* full screen */
  fixed top left
  size 100% 100%

  /* transparent */
  background rgba(0,0,0,.6)

.example1 .gb .gbBox

  /* position on screen */
  fixed top 100px left 100px

/*******************************************************************************
 * example2: Center screen
 ******************************************************************************/

.popup-center .gb

  /* center */
  display flex
  justify-content center
  align-items center
  size 100% 100%

  /* hidden */
  fixed top -999px left -999px

.popup-center .gb.visible

  /* visible */
  fixed top left

.popup-center .gb .gbBox
   display block
   position relative

/*******************************************************************************
 * example3: Full screen
 ******************************************************************************/

.example3 .gb .gbBox
  display none

.example3 .gb.visible .gbBox
  display block
  fixed top left
  size 100% 100%

.example3 .gb .gbClose
  absolute top 30px right 30px
  z-index 101

.example3 .popup
  absolute top 20px right 20px bottom 20px left 20px
  z-index 100

/*******************************************************************************
 * example4: Common scenario (simple animation)
 ******************************************************************************/

.popup-animate-scale .gb
.overlay-animate-opacity .gb

  /* hidden */
  fixed top -999px left -999px

  /* animation */
  transition left 0s linear .3s, top 0s linear .3s

.popup-animate-scale .gb.visible
.overlay-animate-opacity .gb.visible

  /* visible */
  fixed top left

  /* no animation */
  transition none

.overlay-animate-opacity .gb .gbOverlay

  /* transparent */
  background rgba(0,0,0,.6)

  /* full screen */
  fixed top left
  size 100% 100%

  /* hidden */
  visibility hidden
  opacity 0

  /* animation for opacity */
  transition opacity .3s linear, visibility 0s linear .3s, left 0s linear .3s, top 0s linear .3s

.overlay-animate-opacity .gb.visible .gbOverlay

  /* visible */
  visibility visible
  opacity 1

  /* animation for opacity */
  transition opacity .3s linear

.popup-animate-scale .gb .gbBox

  /* hidden */
  visibility hidden
  opacity 0

  /* scale animation */
  transform scale(.9)
  transition transform .1s ease-out, opacity 0s linear .1s, visibility 0s linear .1s

.popup-animate-scale .gb.visible .gbBox

  /* visible */
  visibility visible
  opacity 1

  /* scale animation */
  transform scale(1)
  transition transform .1s ease-out

/*******************************************************************************
 * example5: Multiple popup
 ******************************************************************************/

.example5 .popup
  size 600px 200px

.example5 .popup2
  size 550px 150px

.example5 .popup3
  size 500px 100px

/*******************************************************************************
 * example6: Custom styles
 ******************************************************************************/

.example6 .popup

  /* style */
  background-color #343434
  color #fff

  border solid 8px #fff
  border-radius 10px
  box-shadow 0 2px 10px rgba(0,0,0,.6)
  padding 30px
  height 250px

  /* button style */
  button
    border-radius 5px
    border solid 2px #91a7ff
    background-color #5677fc
    color #fff
    cursor pointer
    outline none

    &:hover
      background-color darken(@background-color, 10)

    &:active
      color darken(@color, 15)
      background-color darken(@background-color, 15)

/* transparent white overlay */
.example6 .gb .gbOverlay
  /* transparent */
  background rgba(255,255,255,.9)

/* black circle with an X, positioned top left */
.example6 .gb .gbClose

  /* style */
  text-align center
  background-color #000
  color #fff
  border solid 3px #fff
  box-shadow 0 0 5px rgba(0,0,0,.8)
  cursor pointer

  /* size & shape */
  size 28px 28px
  border-radius 30px
  line-height 1

  /* position top left outside the box a little */
  absolute top -15px left -10px

  &:before /* close button x sign */
    content "\00D7"
    font-weight bold
    font-family Arial, sans-serif
    font-size 28px

  &:hover
    color #e84e40

  &:active
    color #e51c23

/*******************************************************************************
 * example7: Custom animations
 ******************************************************************************/

.example7 .gb
  fixed top -999px left -999px
  transition left 0s linear 1.5s, top 0s linear 1.5s

.example7 .gb.visible
  fixed top left
  transition none

.example7 .gb .gbOverlay

  /* transparent */
  background rgba(0,0,0,.6)

  /* full screen */
  display block
  fixed top left
  size 100% 100%

  /* hidden */
  visibility hidden
  transition visibility 0s linear 1.5s

  /* animation */
  animation-name zoomOut
  animation-duration 1s
  animation-delay .5s
  animation-fill-mode both

.example7 .gb.visible .gbOverlay

  /* visible */
  visibility visible
  transition none

  /* animation */
  animation-name fadeIn
  animation-duration 1s
  animation-delay 0s
  animation-fill-mode both

.example7 .gb .gbBox

  /* animation */
  animation-name zoomOutUp
  animation-duration 1s
  animation-fill-mode both

.example7 .gb.visible .gbBox

  /* animation */
  backface-visibility: visible !important;
  animation-name: flipInX;
  animation-duration 1s
  animation-fill-mode both

@keyframes flipInX {
  0% {
    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
    transition-timing-function: ease-in;
    opacity: 0;
  }

  40% {
    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
    transition-timing-function: ease-in;
  }

  60% {
    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
    opacity: 1;
  }

  80% {
    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
  }

  100% {
    transform: perspective(400px);
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes zoomOutUp {
  40% {
    opacity: 1;
    transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);
    animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);
  }

  100% {
    opacity: 0;
    transform: scale3d(.1, .1, .1) translate3d(0, -2000px, 0);
    transform-origin: center bottom;
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);
  }
}

@keyframes zoomOut {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0;
    transform: scale3d(.3, .3, .3);
  }

  100% {
    opacity: 0;
  }
}

/*******************************************************************************
 * example8: Animation libraries
 ******************************************************************************/

.example8 .gb
  fixed top -999px left -999px

  /* delay hiding for the hide animation */
  transition left 0s linear 1s, top 0s linear 1s

.example8 .gb.visible
  fixed top left
  transition none

.example8 .gb .gbOverlay

  /* transparent */
  background rgba(0,0,0,.6)

  /* full screen */
  display block
  fixed top left
  size 100% 100%

  /* hidden */
  visibility hidden
  opacity 0

  /* animation for opacity */
  transition opacity .3s linear .7s, visibility 0s linear 1s, left 0s linear 1s, top 0s linear 1s

.example8 .gb.visible .gbOverlay

  /* visible */
  visibility visible
  opacity 1

  /* animation for opacity */
  transition opacity .3s linear

/*******************************************************************************
 * example9: Modal
 ******************************************************************************/

.example9 .popup
  >div
    text-align right

.example9 .gb .gbBox .gbClose
  display none

/*******************************************************************************
 * example10: Prevent action
 ******************************************************************************/

.example10 .popup
  width 500px
  .message
    height 50px
    color #e51c23

/*******************************************************************************
 * example11: Initializing multiple popup in one call
 ******************************************************************************/

.example11 .popup1
  size 500px 300px

.example11 .popup2
  size 400px 200px

/*******************************************************************************
 * Page style
 ******************************************************************************/

body

  color #333
  font-style normal
  font-family "Myriad Set Pro","Lucida Grande","Helvetica Neue","Helvetica","Arial","Verdana","sans-serif"
  font-size 18px
  line-height 1.45
  font-weight 400

  >div, hr
    width 900px
    margin 0 auto 50px auto

    >div
      margin 5px 0 10px 10px

      >div
        margin 10px 0

div.header
  margin 50px 0

  >.gbBox
    position relative
    border solid 1px #ccc

    >.popup
      display block

      >h1
        font-size 72px
        margin 0
        padding 0

      >div
        text-align center

        >div
          text-align left

pre.prettyprint
  padding 10px
  font-size 14px

table
  border solid 1px #ccc
  margin 10px
  width 100%

  th, td
    text-align left
    vertical-align top
    font-weight none
    padding 5px
    border @border

button
  font-size 18px
  border solid 1px #ccc
  border-radius 3px
  background-color #fff
  cursor pointer
  color #343434
  padding 3px 8px
  outline none

  &:active
    background linear-gradient(top, #5677fc, #455ede)
    border-color #2a36b1

/*******************************************************************************
 * example-event
 ******************************************************************************/

.example-event .gb
  fixed top -999px left -999px

  /* delay hiding for the hide animation */
  transition left 0s linear 1s, top 0s linear 1s

.example-event .gb.visible
  fixed top left
  transition none

.example-event .gb .gbOverlay

  /* transparent */
  background rgba(0,0,0,.1)

  /* full screen */
  display block
  fixed top left
  size 100% 100%

  /* hidden */
  visibility hidden
  opacity 0

  /* animation for opacity */
  transition opacity .3s linear .7s, visibility 0s linear 1s, left 0s linear 1s, top 0s linear 1s

.example-event .gb.visible .gbOverlay

  /* visible */
  visibility visible
  opacity 1

  /* animation for opacity */
  transition opacity .3s linear

.example-event .gb .gbBox

  /* hidden */
  visibility hidden
  transition visibility 0s linear 1s

  /* position on screen */
  fixed top 100px left 100px

.example-event .gb.visible .gbBox

  /* visible */
  visibility visible
  opacity 1
  transition none

.example-event .popup
  size 200px 50px

div.log
  padding 5px
  font-size small
  overflow auto
  size 400px 250px
  background-color #f5f5f5
  margin 10px 0
