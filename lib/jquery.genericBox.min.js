/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic
 *
 * Copyright (c) 2014 Dan LE VAN
 *
 * Version: 0.1.2 (Sun Oct 26 2014)
 * Requires: jQuery v1.7+
 * * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c){function d(){n.$el.addClass(n.options.css.popup).css({display:"block","pointer-events":"auto"}),n.$el.wrap('<div class="'+n.options.css.box+'">'),n.$wrapper=n.$el.parent().css({"pointer-events":"none"}),n.$container=n.$wrapper.wrap('<div class="'+n.options.css.wrap+'">').parent(),n.$overlay=a("<div>").addClass(n.options.css.overlay).insertBefore(n.$wrapper),n.$close=a('<div class="'+n.options.css.close+'">').css({"pointer-events":"auto"}).on("click",function(){n.hide()}).prependTo(n.$wrapper)}function e(b,c,d){a(b).on(c,d);var e=a._data(b,"events")[c.split(".")[0]],f=e.pop();e.splice(0,0,f)}function f(){n.$container.trigger.apply(n.$container,arguments)}function g(a){var b=jQuery.Event(a);return b.isActionPrevented=!1,b.preventAction=function(){this.isActionPrevented=!0},f(b),!b.isActionPrevented}function h(){n.options.lockBackgroundScroll&&(n.$overlay.on("DOMMouseScroll mousewheel.gb",k),n.$close.on("DOMMouseScroll mousewheel.gb",k),n.$el.on("DOMMouseScroll mousewheel.gb",l))}function i(){a.each(n.options,function(a,b){if(0===a.indexOf("on")){var c=a.substring(2);c=c[0].toLowerCase()+c.slice(1),n.$container.on(c,b)}}),n.$wrapper.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){f("animationStart"),f(n.isVisible?"showAnimationStart":"hideAnimationStart")}),n.$wrapper.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend webkitTransitionEnd MSTransitionEnd otransitionend oTransitionEnd transitionend",function(){f("animationEnd"),f(n.isVisible?"showAnimationEnd":"hideAnimationEnd")})}function j(a){switch(a.keyCode){case o.ESC:return n.options.hideOnEsc&&n.hide(),a.stopImmediatePropagation(),void a.preventDefault()}}function k(a){return a.stopPropagation(),a.preventDefault(),a.returnValue=!1,!1}function l(b){var c=a(this),d=this.scrollTop,e=this.scrollHeight,f=c.height(),g=b.originalEvent.wheelDelta,h=parseInt(c.css("paddingTop"))||0,i=parseInt(c.css("paddingTop"))||0,j=g>0;return!j&&-g>e-f-d-h-i?(c.scrollTop(e),k(b)):j&&g>d?(c.scrollTop(0),k(b)):void 0}function m(){try{{window.getComputedStyle(n.$container[0]).visibility}}catch(a){}}var n=this;n.el=b,n.$el=a(b),n.isVisible=!1,n.options=a.extend(!0,{},a.fn.gb.defaults,c),d(),h(),i(),f("initialize"),m(),n.show=function(){var b=this;if(!b.isVisible&&g("showStart"))return b.$container.addClass(b.options.css.visible),e(window,"keydown.gb",j),b.options.hideOnClickOverlay&&b.$overlay.on("click.gb",function(){b.hide()}),b.options.blurTrigger&&a(":focus").blur(),f("show"),b.isVisible=!0,b},n.hide=function(){var b=this;if(b.isVisible&&g("hideStart"))return a(window).off("keydown.gb",j),b.options.hideOnClickOverlay&&b.$overlay.off("click.gb"),b.$container.removeClass(b.options.css.visible),f("hide"),b.isVisible=!1,b},n.on=function(a,b){return n.$container.on(a,b),n},n.one=function(a,b){return n.$container.one(a,b),n},n.off=function(a,b){return n.$container.off(a,b),n},n.destroy=function(){n.$container.remove()};var o={ESC:27}}a.fn.gb=function(c){var d="_gb",e=this.map(function(){var e=a(this),f=e.data(d);if(f)return f;var g=e.data("gb");return"string"==typeof g&&(console.warn("The data-options provided is not a valid JSON: "+g),g={}),f=new b(e[0],a.extend(!0,{},g?g:{},c?c:{})),e.data(d,f),f});return 1===e.length?e[0]:e},a.fn.gb.defaults={css:{wrap:"gb",close:"gbClose",box:"gbBox",popup:"gbPopup",overlay:"gbOverlay",visible:"visible"},hideOnClickOverlay:!0,hideOnEsc:!0,blurTrigger:!0,lockBackgroundScroll:!0,onInitialize:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null,onKey:null}});
//# sourceMappingURL=jquery.genericBox.min.js.map