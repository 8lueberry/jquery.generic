/*
 * Generic - jQuery Plugin
 * Simple ui controllers
 *
 * Examples and documentation at:
 *
 * Copyright (c) 2013 Dan LE VAN
 *
 * Version: 0.1.0 (Fri Oct 24 2014)
 * Requires: jQuery v1.3+
 * * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c){function d(a,b){n.$container.on(a,b)}function e(a,b){n.$container.one(a,b)}function f(a,b){n.$container.off(a,b)}function g(b,c,d){a(b).on(c,d);var e=a._data(b,"events")[c.split(".")[0]],f=e.pop();e.splice(0,0,f)}function h(){n.$container.trigger.apply(n.$container,arguments)}function i(a){var b=jQuery.Event(a);return b.isActionPrevented=!1,b.preventAction=function(){this.isActionPrevented=!0},h(b),!b.isActionPrevented}function j(){a.each(n.options,function(a,b){if(0===a.indexOf("on")){var c=a.substring(2);c=c[0].toLowerCase()+c.slice(1),d(c,b)}}),n.$wrapper.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){h("animationStart"),h(n.isVisible?"showAnimationStart":"hideAnimationStart")}),n.$wrapper.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){h("animationEnd"),h(n.isVisible?"showAnimationEnd":"hideAnimationEnd")})}function k(a){switch(a.keyCode){case o.ESC:n.hide();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}function l(a){return a.stopPropagation(),a.preventDefault(),a.returnValue=!1,!1}function m(b){var c=a(this),d=this.scrollTop,e=this.scrollHeight,f=c.height(),g=b.originalEvent.wheelDelta,h=g>0;return!h&&-g>e-f-d?(c.scrollTop(e),l(b)):h&&g>d?(c.scrollTop(0),l(b)):void 0}var n=this;n.el=b,n.$el=a(b),n.isVisible=!1,n.options=a.extend(!0,{},a.fn.gb.defaults,c),n.$el.css({display:"block","pointer-events":"auto"}),n.$el.wrap('<div class="'+n.options.css.box+'">'),n.$wrapper=n.$el.parent().css({"pointer-events":"none"}),n.$container=n.$wrapper.wrap('<div class="'+n.options.css.wrap+'">').parent(),n.$overlay=a("<div>").addClass(n.options.css.overlay).insertBefore(n.$wrapper),n.$close=a('<div class="'+n.options.css.close+'">').css({"pointer-events":"auto"}).on("click",function(){n.hide()}).prependTo(n.$wrapper),n.options.lockBackgroundScroll&&(n.$overlay.on("DOMMouseScroll mousewheel.gb",l),n.$close.on("DOMMouseScroll mousewheel.gb",l),n.$el.on("DOMMouseScroll mousewheel.gb",m)),n.$overlay.flushCss(),j(),h("initialized"),this.show=function(){return!n.isVisible&&i("showStart")?(n.$container.addClass(n.options.css.visible),n.options.hideOnEsc&&g(window,"keydown.gb",k),n.options.hideOnClickOverlay&&n.$overlay.on("click.gb",function(){n.hide()}),n.options.blurTrigger&&a(":focus").blur(),h("show"),n.isVisible=!0,n):void 0},this.hide=function(){return n.isVisible&&i("hideStart")?(n.options.hideOnEsc&&a(window).off("keydown.gb",k),n.options.hideOnClickOverlay&&n.$overlay.off("click.gb"),n.$container.removeClass(n.options.css.visible),h("hide"),n.isVisible=!1,n):void 0},this.on=function(a,b){return d(a,b),n},this.one=function(a,b){return e(a,b),n},this.off=function(a,b){return f(a,b),n},this.destroy=function(){n.$container.remove()};var o={ESC:27}}a.fn.gb=function(c){var d="_gb",e=a(this.first()),f=e.data(d);if(f)c&&(f.options=a.extend(!0,{},f.options,c));else{var g=e.data("gb");"string"==typeof g&&(console.warn("The data-options provided is not a valid JSON: "+g),g={}),f=new b(e[0],a.extend(!0,{},g?g:{},c?c:{})),e.data(d,f)}return f},a.fn.gb.defaults={css:{wrap:"gb",close:"gbClose",box:"gbBox",overlay:"gbOverlay",visible:"visible"},hideOnClickOverlay:!0,hideOnEsc:!0,blurTrigger:!0,lockBackgroundScroll:!0,onInitialized:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null},a.fn.flushCss=function(){try{window.getComputedStyle(this[0]).visibility}catch(a){}return this}});
//# sourceMappingURL=jquery.genericBox.min.js.map