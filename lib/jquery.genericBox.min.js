/*
 * Generic - jQuery Plugin
 *
 * Examples and documentation at: danlevan.github.io/jquery.generic
 *
 * Copyright (c) 2014 Dan LE VAN
 *
 * Version: 0.1.0 (Fri Oct 24 2014)
 * Requires: jQuery v1.7+
 * * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c){function d(a,b){p.$container.on(a,b)}function e(a,b){p.$container.one(a,b)}function f(a,b){p.$container.off(a,b)}function g(b,c,d){a(b).on(c,d);var e=a._data(b,"events")[c.split(".")[0]],f=e.pop();e.splice(0,0,f)}function h(){p.$container.trigger.apply(p.$container,arguments)}function i(a){var b=jQuery.Event(a);return b.isActionPrevented=!1,b.preventAction=function(){this.isActionPrevented=!0},h(b),!b.isActionPrevented}function j(){p.options.lockBackgroundScroll&&(p.$overlay.on("DOMMouseScroll mousewheel.gb",m),p.$close.on("DOMMouseScroll mousewheel.gb",m),p.$el.on("DOMMouseScroll mousewheel.gb",n))}function k(){a.each(p.options,function(a,b){if(0===a.indexOf("on")){var c=a.substring(2);c=c[0].toLowerCase()+c.slice(1),d(c,b)}}),p.$wrapper.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){h("animationStart"),h(p.isVisible?"showAnimationStart":"hideAnimationStart")}),p.$wrapper.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){h("animationEnd"),h(p.isVisible?"showAnimationEnd":"hideAnimationEnd")})}function l(a){switch(a.keyCode){case p.options.hideKey:p.hide();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}function m(a){return a.stopPropagation(),a.preventDefault(),a.returnValue=!1,!1}function n(b){var c=a(this),d=this.scrollTop,e=this.scrollHeight,f=c.height(),g=b.originalEvent.wheelDelta,h=g>0;return!h&&-g>e-f-d?(c.scrollTop(e),m(b)):h&&g>d?(c.scrollTop(0),m(b)):void 0}function o(){try{window.getComputedStyle(p.$container[0]).visibility}catch(a){}}var p=this;p.el=b,p.$el=a(b),p.isVisible=!1,p.options=a.extend(!0,{},a.fn.gb.defaults,c),p.$el.css({display:"block","pointer-events":"auto"}),p.$el.wrap('<div class="'+p.options.css.box+'">'),p.$wrapper=p.$el.parent().css({"pointer-events":"none"}),p.$container=p.$wrapper.wrap('<div class="'+p.options.css.wrap+'">').parent(),p.$overlay=a("<div>").addClass(p.options.css.overlay).insertBefore(p.$wrapper),p.$close=a('<div class="'+p.options.css.close+'">').css({"pointer-events":"auto"}).on("click",function(){p.hide()}).prependTo(p.$wrapper),j(),k(),h("initialized"),o(),this.show=function(){return!p.isVisible&&i("showStart")?(p.$container.addClass(p.options.css.visible),p.options.hideKey&&g(window,"keydown.gb",l),p.options.hideOnClickOverlay&&p.$overlay.on("click.gb",function(){p.hide()}),p.options.blurTrigger&&a(":focus").blur(),h("show"),p.isVisible=!0,p):void 0},this.hide=function(){return p.isVisible&&i("hideStart")?(p.options.hideKey&&a(window).off("keydown.gb",l),p.options.hideOnClickOverlay&&p.$overlay.off("click.gb"),p.$container.removeClass(p.options.css.visible),h("hide"),p.isVisible=!1,p):void 0},this.on=function(a,b){return d(a,b),p},this.one=function(a,b){return e(a,b),p},this.off=function(a,b){return f(a,b),p},this.destroy=function(){p.$container.remove()}}a.fn.gb=function(c){var d="_gb",e=this.map(function(){var e=a(this),f=e.data(d);if(f)return f;var g=e.data("gb");return"string"==typeof g&&(console.warn("The data-options provided is not a valid JSON: "+g),g={}),f=new b(e[0],a.extend(!0,{},g?g:{},c?c:{})),e.data(d,f),f});return 1===e.length?e[0]:e},a.fn.gb.defaults={css:{wrap:"gb",close:"gbClose",box:"gbBox",overlay:"gbOverlay",visible:"visible"},hideOnClickOverlay:!0,hideKey:27,blurTrigger:!0,lockBackgroundScroll:!0,onInitialized:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null,onKey:null}});
//# sourceMappingURL=jquery.genericBox.min.js.map