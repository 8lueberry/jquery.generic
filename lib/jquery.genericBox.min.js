/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic
 *
 * Copyright (c) 2014 Dan LE VAN
 *
 * Version: 0.1.1 (Sat Oct 25 2014)
 * Requires: jQuery v1.7+
 * * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,c){function d(){q.$el.css({display:"block","pointer-events":"auto"}),q.$el.wrap('<div class="'+q.options.css.box+'">'),q.$wrapper=q.$el.parent().css({"pointer-events":"none"}),q.$container=q.$wrapper.wrap('<div class="'+q.options.css.wrap+'">').parent(),q.$overlay=a("<div>").addClass(q.options.css.overlay).insertBefore(q.$wrapper),q.$close=a('<div class="'+q.options.css.close+'">').css({"pointer-events":"auto"}).on("click",function(){q.hide()}).prependTo(q.$wrapper)}function e(a,b){q.$container.on(a,b)}function f(a,b){q.$container.one(a,b)}function g(a,b){q.$container.off(a,b)}function h(b,c,d){a(b).on(c,d);var e=a._data(b,"events")[c.split(".")[0]],f=e.pop();e.splice(0,0,f)}function i(){q.$container.trigger.apply(q.$container,arguments)}function j(a){var b=jQuery.Event(a);return b.isActionPrevented=!1,b.preventAction=function(){this.isActionPrevented=!0},i(b),!b.isActionPrevented}function k(){q.options.lockBackgroundScroll&&(q.$overlay.on("DOMMouseScroll mousewheel.gb",n),q.$close.on("DOMMouseScroll mousewheel.gb",n),q.$el.on("DOMMouseScroll mousewheel.gb",o))}function l(){a.each(q.options,function(a,b){if(0===a.indexOf("on")){var c=a.substring(2);c=c[0].toLowerCase()+c.slice(1),e(c,b)}}),q.$wrapper.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){i("animationStart"),i(q.isVisible?"showAnimationStart":"hideAnimationStart")}),q.$wrapper.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i("animationEnd"),i(q.isVisible?"showAnimationEnd":"hideAnimationEnd")})}function m(a){switch(a.keyCode){case q.options.hideKey:q.hide();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}function n(a){return a.stopPropagation(),a.preventDefault(),a.returnValue=!1,!1}function o(b){var c=a(this),d=this.scrollTop,e=this.scrollHeight,f=c.height(),g=b.originalEvent.wheelDelta,h=parseInt(c.css("paddingTop"))||0,i=parseInt(c.css("paddingTop"))||0,j=g>0;return!j&&-g>e-f-d-h-i?(c.scrollTop(e),n(b)):j&&g>d?(c.scrollTop(0),n(b)):void 0}function p(){try{{window.getComputedStyle(q.$container[0]).visibility}}catch(a){}}var q=this;q.el=b,q.$el=a(b),q.isVisible=!1,q.options=a.extend(!0,{},a.fn.gb.defaults,c),d(),k(),l(),i("initialize"),p(),q.show=function(){var b=this;if(!b.isVisible&&j("showStart"))return b.$container.addClass(b.options.css.visible),b.options.hideKey&&h(window,"keydown.gb",m),b.options.hideOnClickOverlay&&b.$overlay.on("click.gb",function(){b.hide()}),b.options.blurTrigger&&a(":focus").blur(),i("show"),b.isVisible=!0,b},q.hide=function(){var b=this;if(b.isVisible&&j("hideStart"))return b.options.hideKey&&a(window).off("keydown.gb",m),b.options.hideOnClickOverlay&&b.$overlay.off("click.gb"),b.$container.removeClass(b.options.css.visible),i("hide"),b.isVisible=!1,b},q.on=function(a,b){return e(a,b),q},q.one=function(a,b){return f(a,b),q},q.off=function(a,b){return g(a,b),q},q.destroy=function(){q.$container.remove()}}a.fn.gb=function(c){var d="_gb",e=this.map(function(){var e=a(this),f=e.data(d);if(f)return f;var g=e.data("gb");return"string"==typeof g&&(console.warn("The data-options provided is not a valid JSON: "+g),g={}),f=new b(e[0],a.extend(!0,{},g?g:{},c?c:{})),e.data(d,f),f});return 1===e.length?e[0]:e},a.fn.gb.defaults={css:{wrap:"gb",close:"gbClose",box:"gbBox",overlay:"gbOverlay",visible:"visible"},hideOnClickOverlay:!0,hideKey:27,blurTrigger:!0,lockBackgroundScroll:!0,onInitialize:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null,onKey:null}});
//# sourceMappingURL=jquery.genericBox.min.js.map