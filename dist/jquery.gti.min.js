/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic/
 *
 * Copyright (c) 2014 Dan Le Van
 *
 * Version: 1.0.0 (Wed Jan 14 2015)
 * Requires: jQuery v1.7+
 * 
 * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function n(n,i){function e(){d.$wrapper=t("<div>").addClass(d.options.css.wrap).append("<ul>").append('<div><input type="text" /></div></div>'),d.$value=d.$element.after(d.$wrapper).attr("type","hidden"),d.$tags=d.$wrapper.find("ul").on("click","li .close",function(){var n=t(this).parent().find(".text").html();d.remove(n)});for(var n=d.options.tags.length>0?d.options.tags:d.$value.val().split(","),i=0;i<n.length;i++)d.add(n[i],!0,!1);d.$input=d.$wrapper.find("input").on("keydown",a).on("blur",s)}function a(t){switch(t.keyCode){case u.ENTER:case u.SPACE:case u.COMMA:t.preventDefault(),s();break;case u.BACKSPACE:if(""===d.$input.val()){var n=d.$tags.children().last();if(n.length>0){t.preventDefault();var i=n.find(".text").html();d.$input.val(i),d.remove(i)}}break;default:return}}function s(){""!==d.$input.val()&&(d.add(d.$input.val()),d.$input.val(""))}function o(){d.$tags.html(""),d.tags.forEach(function(t){d.$tags.append(r(t))})}function l(){d.$value.val(d.tags.join(",")).trigger("change")}function r(t){return'<li><div class="text">'+t+'</div><div class="close"></div></li>'}var d=this;this.element=n,this.$element=t(n),this.options=t.extend(!0,{},t.fn.gti.defaults,i),this.tags=[],this.set=function(t){this.tags=Array.prototype.slice.call(t,0),o(),l()},this.add=function(t,n,i){var e=t?t.trim():null;e&&(this.tags.push(e),(void 0===n||n)&&o(),(void 0===i||i)&&l(),d.options.onAdd&&d.options.onAdd.call(d,e))},this.remove=function(t){var n=this.tags.indexOf(t);0>n||(this.tags.splice(n,1),o(),l(),d.options.onRemove&&d.options.onRemove.call(d,t))};var u={ENTER:13,SPACE:32,BACKSPACE:8,COMMA:188};e()}t.fn.gti=function(i){var e="_gti",a=t(this.first()),s=a.data(e);return s||(s=new n(a[0],i),a.data(e,s)),s},t.fn.gti.defaults={css:{wrap:"gti"},tags:[],onAdd:null,onRemove:null},t.fn.flushCss=function(){return window.getComputedStyle(this[0]).visibility,this}});
//# sourceMappingURL=jquery.gti.min.js.map