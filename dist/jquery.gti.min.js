/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic/
 *
 * Copyright (c) 2014 Dan Le Van
 *
 * Version: 0.1.2 (Thu Nov 13 2014)
 * Requires: jQuery v1.7+
 * * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function n(n,i){function e(){u.$wrapper=t("<div>").addClass(u.options.css.wrap).append("<ul>").append('<div><input type="text" /></div></div>'),u.$value=u.$element.after(u.$wrapper).attr("type","hidden"),u.$tags=u.$wrapper.find("ul").on("click","li .close",function(){var n=t(this).parent().find(".text").html();u.remove(n)});for(var n=u.options.tags.length>0?u.options.tags:u.$value.val().split(","),i=0;i<n.length;i++)u.add(n[i],!0,!1);u.$input=u.$wrapper.find("input").on("keydown",a).on("blur",s)}function a(t){switch(t.keyCode){case r.ENTER:case r.SPACE:case r.COMMA:t.preventDefault(),s();break;case r.BACKSPACE:if(""===u.$input.val()){var n=u.$tags.children().last();if(n.length>0){t.preventDefault();var i=n.find(".text").html();u.$input.val(i),u.remove(i)}}break;default:return}}function s(){""!==u.$input.val()&&(u.add(u.$input.val()),u.$input.val(""))}function o(){u.$tags.html(""),u.tags.forEach(function(t){u.$tags.append(d(t))})}function l(){u.$value.val(u.tags.join(",")).trigger("change")}function d(t){return'<li><div class="text">'+t+'</div><div class="close"></div></li>'}var u=this;this.element=n,this.$element=t(n),this.options=t.extend(!0,{},t.fn.gti.defaults,i),this.tags=[],this.set=function(t){this.tags=t,o(),l()},this.add=function(t,n,i){var e=t?t.trim():null;e&&(this.tags.push(e),(void 0===n||n)&&o(),(void 0===i||i)&&l(),u.options.onAdd&&u.options.onAdd.call(u,e))},this.remove=function(t){var n=this.tags.indexOf(t);0>n||(this.tags.splice(n,1),o(),l(),u.options.onRemove&&u.options.onRemove.call(u,t))};var r={ENTER:13,SPACE:32,BACKSPACE:8,COMMA:188};e()}t.fn.gti=function(i){var e="_gti",a=t(this.first()),s=a.data(e);return s||(s=new n(a[0],i),a.data(e,s)),s},t.fn.gti.defaults={css:{wrap:"gti"},tags:[],onAdd:null,onRemove:null},t.fn.flushCss=function(){return window.getComputedStyle(this[0]).visibility,this}});
//# sourceMappingURL=jquery.gti.min.js.map