/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic/
 *
 * Copyright (c) 2014 Dan Le Van
 *
 * Version: 0.1.2 (Wed Nov 19 2014)
 * Requires: jQuery v1.7+
 * * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function i(i,o){function t(){f.$el.addClass(f.options.css.popup).css({display:"block","pointer-events":"auto"}),f.$el.wrap('<div class="'+f.options.css.box+'">'),f.$box=f.$el.parent().css({"pointer-events":"none"});var i=f.$el.data(f.options.data.style);f.$container=f.$box.wrap('<div class="'+f.options.css.container+(i?" "+f.options.css.style+" "+i:"")+'">').parent(),f.$overlay=n("<div>").addClass(f.options.css.overlay).insertBefore(f.$box),f.$close=n('<div class="'+f.options.css.close+'">').css({"pointer-events":"auto"}).on("click",function(){f.hide()}).prependTo(f.$box)}function e(i,o,t){n(i).on(o,t);var e=n._data(i,"events")[o.split(".")[0]],s=e.pop();e.splice(0,0,s)}function s(){f.$container.trigger.apply(f.$container,arguments)}function a(n){var i=jQuery.Event(n);return i.isActionPrevented=!1,i.preventAction=function(){this.isActionPrevented=!0},s(i),!i.isActionPrevented}function r(){f.options.lockBackgroundScroll&&(f.$overlay.on("DOMMouseScroll mousewheel.gb",d),f.$close.on("DOMMouseScroll mousewheel.gb",d),f.$el.on("DOMMouseScroll mousewheel.gb",u))}function l(){n.each(f.options,function(n,i){if(0===n.indexOf("on")){var o=n.substring(2);o=o[0].toLowerCase()+o.slice(1),f.$container.on(o,i)}}),f.$box.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){s("animationStart"),s(f.isVisible?"showAnimationStart":"hideAnimationStart")}),f.$box.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s("animationEnd"),s(f.isVisible?"showAnimationEnd":"hideAnimationEnd")}),f.$box.on("webkitTransitionEnd MSTransitionEnd otransitionend transitionend",function(){s("transitionEnd"),s(f.isVisible?"showTransitionEnd":"hideTransitionEnd")})}function c(n){switch(n.keyCode){case b.ESC:return f.options.hideOnEsc&&f.hide(),n.stopImmediatePropagation(),void n.preventDefault()}}function d(n){return n.stopPropagation(),n.preventDefault(),n.returnValue=!1,!1}function u(i){var o=n(this),t=this.scrollTop,e=this.scrollHeight,s=o.height(),a=i.originalEvent.wheelDelta,r=parseInt(o.css("paddingTop"))||0,l=parseInt(o.css("paddingTop"))||0,c=a>0;return!c&&-a>e-s-t-r-l?(o.scrollTop(e),d(i)):c&&a>t?(o.scrollTop(0),d(i)):void 0}function p(){try{{window.getComputedStyle(f.$container[0]).visibility}}catch(n){}}var f=this;f.el=i,f.$el=n(i),f.isVisible=!1,f.options=n.extend(!0,{},n.fn.gb.defaults,o),t(),r(),l(),s("initialize"),p(),f.show=function(){var i=this;if(!i.isVisible&&a("showStart"))return i.$container.addClass(i.options.css.visible),e(window,"keydown.gb",c),i.options.hideOnClickOverlay&&i.$overlay.on("click.gb",function(){i.hide()}),i.options.blurTrigger&&n(":focus").blur(),s("show"),i.isVisible=!0,i},f.hide=function(){var i=this;if(i.isVisible&&a("hideStart"))return n(window).off("keydown.gb",c),i.options.hideOnClickOverlay&&i.$overlay.off("click.gb"),i.$container.removeClass(i.options.css.visible),s("hide"),i.isVisible=!1,i},f.on=function(n,i){return f.$container.on(n,i),f},f.one=function(n,i){return f.$container.one(n,i),f},f.off=function(n,i){return f.$container.off(n,i),f},f.destroy=function(){f.$container.remove()};var b={ESC:27}}n.fn.gb=function(o){var t="_gb",e=this.map(function(){var e=n(this),s=e.data(t);if(s)return s;var a=e.data("gb");return"string"==typeof a&&(console.warn("The data-options provided is not a valid JSON: "+a),a={}),s=new i(e[0],n.extend(!0,{},a?a:{},o?o:{})),e.data(t,s),s});return 1===e.length?e[0]:e},n.fn.gb.defaults={css:{container:"gb-container",close:"gb-close",box:"gb-box",popup:"gb-popup",overlay:"gb-overlay",style:"gb-style",visible:"visible"},data:{style:"style"},hideOnClickOverlay:!0,hideOnEsc:!0,blurTrigger:!0,lockBackgroundScroll:!0,onInitialize:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null,onKey:null}});
//# sourceMappingURL=jquery.gb.min.js.map