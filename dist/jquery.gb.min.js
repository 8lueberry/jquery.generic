/*
 * Generic - jQuery Plugin
 *
 * Example and documentation at: http://danlevan.github.io/jquery.generic/
 *
 * Copyright (c) 2014 Dan Le Van
 *
 * Version: 1.0.3 (Fri Apr 17 2015)
 * Requires: jQuery v1.7+
 * 
 * Licensed under the MIT license:
 *   https://raw.github.com/danlevan/jquery.generic/master/LICENSE
 */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function i(i,o){function t(){d.$el.addClass(d.options.css.popup).css({display:"block"}),d.$el.wrap('<div class="'+d.options.css.box+'">'),d.$box=d.$el.parent();var i=d.$el.data(d.options.data.style);d.$container=d.$box.wrap('<div class="'+d.options.css.container+(i?" "+d.options.css.style+" "+i:"")+'">').parent(),d.$overlay=n("<div>").addClass(d.options.css.overlay).insertBefore(d.$box),d.$close=n('<div class="'+d.options.css.close+'">').on("click",function(){d.hide()}).prependTo(d.$box)}function e(i,o,t){n(i).on(o,t);var e=n._data(i,"events")[o.split(".")[0]],a=e.pop();e.splice(0,0,a)}function a(){d.$container.trigger.apply(d.$container,arguments)}function s(n){var i=jQuery.Event(n);return i.isActionPrevented=!1,i.preventAction=function(){this.isActionPrevented=!0},a(i),!i.isActionPrevented}function r(){n.each(d.options,function(n,i){if(0===n.indexOf("on")){var o=n.substring(2);o=o[0].toLowerCase()+o.slice(1),d.$container.on(o,i)}}),d.$box.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(){a("animationStart"),a(d.isVisible?"showAnimationStart":"hideAnimationStart")}),d.$box.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("animationEnd"),a(d.isVisible?"showAnimationEnd":"hideAnimationEnd")}),d.$box.on("webkitTransitionEnd MSTransitionEnd otransitionend transitionend",function(){a("transitionEnd"),a(d.isVisible?"showTransitionEnd":"hideTransitionEnd")})}function l(n){switch(n.keyCode){case u.ESC:return d.options.hideOnEsc&&d.hide(),n.stopImmediatePropagation(),void n.preventDefault()}}function c(){try{{window.getComputedStyle(d.$container[0]).visibility}}catch(n){}}var d=this;d.el=i,d.$el=n(i),d.isVisible=!1,d.options=n.extend(!0,{},n.fn.gb.defaults,o),t(),r(),a("initialize"),c(),d.show=function(){var i=this;if(!i.isVisible&&s("showStart"))return i.options.lockBackgroundScroll&&n("body").addClass(i.options.css.body),i.$container.addClass(i.options.css.visible),e(window,"keydown.gb",l),i.options.hideOnClickOverlay&&i.$overlay.on("click.gb",function(){i.hide()}),i.options.blurTrigger&&n(":focus").blur(),a("show"),i.isVisible=!0,i},d.hide=function(){var i=this;if(i.isVisible&&s("hideStart"))return i.options.lockBackgroundScroll&&n("body").removeClass(i.options.css.body),n(window).off("keydown.gb",l),i.options.hideOnClickOverlay&&i.$overlay.off("click.gb"),i.$container.removeClass(i.options.css.visible),a("hide"),i.isVisible=!1,i},d.on=function(n,i){return d.$container.on(n,i),d},d.one=function(n,i){return d.$container.one(n,i),d},d.off=function(n,i){return d.$container.off(n,i),d},d.destroy=function(){d.$container.remove()};var u={ESC:27}}n.fn.gb=function(o){var t="_gb",e=this.map(function(){var e=n(this),a=e.data(t);if(a)return a;var s=e.data("gb");return"string"==typeof s&&(console.warn("The data-options provided is not a valid JSON: "+s),s={}),a=new i(e[0],n.extend(!0,{},s?s:{},o?o:{})),e.data(t,a),a});return 1===e.length?e[0]:e},n.fn.gb.defaults={css:{body:"gb-modal",container:"gb-container",close:"gb-close",box:"gb-box",popup:"gb-popup",overlay:"gb-overlay",style:"gb-style",visible:"visible"},data:{style:"style"},hideOnClickOverlay:!0,hideOnEsc:!0,blurTrigger:!0,lockBackgroundScroll:!0,onInitialize:null,onShowStart:null,onShow:null,onHideStart:null,onHide:null,onAnimationStart:null,onAnimationEnd:null,onShowAnimationStart:null,onShowAnimationEnd:null,onHideAnimationStart:null,onHideAnimationEnd:null,onKey:null}});
//# sourceMappingURL=jquery.gb.min.js.map